(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{651:function(e,t,o){"use strict";o.r(t);var r=o(3),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("p",[e._v("Recently, I created the "),o("a",{attrs:{href:"/algo"}},[e._v("algo site")]),e._v(" to record algorithm problems I've solved.")]),e._v(" "),o("p",[e._v("I've encountered many weird errors but also learned so much in the process!")]),e._v(" "),o("p",[e._v("When I migrated my blog "),o("RouterLink",{attrs:{to:"/blog/about_this_blog.html#built-transformed"}},[e._v("from Jekyll to VuePress")]),e._v(", it also took me a few days to figure out how to use the "),o("a",{attrs:{href:"vuepress-theme-reco.recoluan.com/en"}},[e._v("reco-theme")]),e._v(", such as updating frontmatter w/ categories and adding a sidebar. When I created the algo site this time, reco-theme no longer applies b/c it's designed for blogs while I was creating a doc. This forced me to abandon laziness (temporarily ðŸ˜›) and start from scratch by following the "),o("a",{attrs:{href:"https://vuepress.vuejs.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("offical VuePress doc"),o("OutboundLink")],1),e._v(" step-by-step.")],1),e._v(" "),o("h2",{attrs:{id:"which-doc-tool-to-use"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#which-doc-tool-to-use"}},[e._v("#")]),e._v(" Which Doc Tool to Use")]),e._v(" "),o("p",[e._v("These are what the doc tool should be:")]),e._v(" "),o("ol",[o("li",[e._v("simple to set up")]),e._v(" "),o("li",[e._v("clear doc on how to use")]),e._v(" "),o("li",[e._v("big enough community to answer my questions")]),e._v(" "),o("li",[e._v("good math support")])]),e._v(" "),o("p",[e._v("Initially, I didn't want to choose VuePress for the algo site b/c I've alreay used it for the blog and wanted to try sth new.")]),e._v(" "),o("p",[e._v("I did a lot of research on quite a few alternatives before I made my mind to keep using VuePress and hone my skills in Vue!")]),e._v(" "),o("h3",{attrs:{id:"vuepress"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#vuepress"}},[e._v("#")]),e._v(" "),o("a",{attrs:{href:"https://vuepress.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("VuePress"),o("OutboundLink")],1)]),e._v(" "),o("p",[e._v("Though VuePress renders beautifully and elegantly, I can't say I don't have any grudge on it:")]),e._v(" "),o("ol",[o("li",[e._v("though "),o("code",[e._v("vuepress-plugin-mathjax")]),e._v(" renders simple math expressions correctly, the "),o("a",{attrs:{href:"https://github.com/vuepress/vuepress-plugin-mathjax/issues/14",target:"_blank",rel:"noopener noreferrer"}},[e._v("mathjax matrix issue"),o("OutboundLink")],1),e._v(" still hasn't been solved. So I switched to "),o("code",[e._v("@markspec/vuepress-plugin-katex")]),e._v(" and it works like a charm")]),e._v(" "),o("li",[e._v("after "),o("code",[e._v("yarn dev")]),e._v(", it's nice that dev server automatically refresh and update the change, I still have to refresh after some changes")])]),e._v(" "),o("h3",{attrs:{id:"gitbook"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#gitbook"}},[e._v("#")]),e._v(" "),o("a",{attrs:{href:"https://www.gitbook.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitBook"),o("OutboundLink")],1)]),e._v(" "),o("p",[e._v("I've seen nice sites built w/ GitBook, but as I the "),o("a",{attrs:{href:"https://vuepress.vuejs.org/guide/#gitbook",target:"_blank",rel:"noopener noreferrer"}},[e._v("why not section"),o("OutboundLink")],1),e._v(" says, I also felt it's turning to "),o("a",{attrs:{href:"https://www.gitbook.com/pricing",target:"_blank",rel:"noopener noreferrer"}},[e._v("a commercial product"),o("OutboundLink")],1),e._v(' nowadays. In terms of "slow development reload performance w/ a large amount of files", I can\'t speak of that per se. Anyway, I want to go for a free option.')]),e._v(" "),o("h3",{attrs:{id:"docusaurus"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#docusaurus"}},[e._v("#")]),e._v(" "),o("a",{attrs:{href:"https://docusaurus.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docusaurus"),o("OutboundLink")],1)]),e._v(" "),o("p",[e._v("This doc tool is closely associated w/ "),o("a",{attrs:{href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("React.js"),o("OutboundLink")],1),e._v(" and used by many of React related projects for doc. I love React but not so much this tool.")]),e._v(" "),o("h3",{attrs:{id:"other-options-for-doc-tool"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#other-options-for-doc-tool"}},[e._v("#")]),e._v(" Other Options for Doc Tool")]),e._v(" "),o("p",[e._v("I didn't look too much into other options such as "),o("a",{attrs:{href:"https://storybook.js.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Storybook"),o("OutboundLink")],1),e._v(" and "),o("a",{attrs:{href:"https://www.docz.site/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docz"),o("OutboundLink")],1),e._v(" b/c the former looks too dazzling and the latter not appealing in style.")]),e._v(" "),o("h2",{attrs:{id:"comment-system"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#comment-system"}},[e._v("#")]),e._v(" Comment System")]),e._v(" "),o("p",[e._v("Gradually, I think having people from the globe discussing on a common topic is a cool idea rather than a distraction. I hope the comment system is simple, straightfoward, but has some authentication to prevent random chit-chat.")]),e._v(" "),o("h3",{attrs:{id:"valine"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#valine"}},[e._v("#")]),e._v(" Valine")]),e._v(" "),o("p",[e._v("I tried "),o("a",{attrs:{href:"https://valine.js.org/en",target:"_blank",rel:"noopener noreferrer"}},[e._v("Valine"),o("OutboundLink")],1),e._v(" on this blog before b/c the "),o("a",{attrs:{href:"vuepress-theme-reco.recoluan.com/en"}},[e._v("reco-theme")]),e._v(" has a built-in plugin "),o("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/en/views/plugins/comments.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("@vuepress-reco/vuepress-plugin-comments"),o("OutboundLink")],1),e._v(" for comments. The placeholders default to Chinese, though users could "),o("a",{attrs:{href:"https://valine.js.org/en/i18n.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("choose English"),o("OutboundLink")],1),e._v(". The main reason Valine didn't make me happy was b/c I had to go over the "),o("a",{attrs:{href:"https://github.com/DesertsP/Valine-Admin",target:"_blank",rel:"noopener noreferrer"}},[e._v("extra steps"),o("OutboundLink")],1),e._v(" to "),o("strong",[e._v("enable email notification")]),e._v(" after a user responds. This took me half a day but still finally failed.")]),e._v(" "),o("p",[e._v("Also, Valine is developed by LeanCloud, who is a "),o("em",[e._v("freemium")]),e._v(" SaaS provider. Why do I need to watch for not being charged and going thru all the hassle to enable email responding system?")]),e._v(" "),o("h3",{attrs:{id:"gitalk"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#gitalk"}},[e._v("#")]),e._v(" "),o("a",{attrs:{href:"https://gitalk.github.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gitalk"),o("OutboundLink")],1)]),e._v(" "),o("p",[e._v("I knew Gitalk recently and thought it's a cool idea to associate commenting w/ "),o("a",{attrs:{href:"https://github.com/franklinqin0/blog/issues",target:"_blank",rel:"noopener noreferrer"}},[e._v("issues on GitHub"),o("OutboundLink")],1),e._v(". However, it took me quite a while to enable it. I hope the following would make your life easier.")]),e._v(" "),o("h4",{attrs:{id:"steps"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#steps"}},[e._v("#")]),e._v(" Steps")]),e._v(" "),o("p",[e._v("These are the steps to initiate Gitalk on this blog:")]),e._v(" "),o("ol",[o("li",[e._v("register an OAuth app on GitHub\n"),o("ul",[o("li",[e._v("callback url is the home url")]),e._v(" "),o("li",[e._v("one app for only one site/url/repo")])])]),e._v(" "),o("li",[e._v("add Gitalk according to your static site generator\n"),o("ul",[o("li",[e._v("for me, it's VuePress and I used "),o("a",{attrs:{href:"https://github.com/dongyuanxin/vuepress-plugin-comment",target:"_blank",rel:"noopener noreferrer"}},[e._v("this plugin"),o("OutboundLink")],1)])])]),e._v(" "),o("li",[e._v("push & debug\n"),o("ul",[o("li",[e._v("coz it's hard to succeed in first trial")]),e._v(" "),o("li",[e._v("note that the home & callback url's are in prod, so dev server would redirect to prod url's")])])])]),e._v(" "),o("h4",{attrs:{id:"caveats"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#caveats"}},[e._v("#")]),e._v(" Caveats")]),e._v(" "),o("p",[e._v("There are a few caveats to watch for when using Gitalk (could see my "),o("a",{attrs:{href:"https://github.com/franklinqin0/blog/blob/master/docs/.vuepress/config.js",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("config.js")]),o("OutboundLink")],1),e._v("):")]),e._v(" "),o("ol",[o("li",[o("code",[e._v("id")]),e._v(" should be unique and "),o("eq",[o("span",{staticClass:"katex"},[o("span",{staticClass:"katex-mathml"},[o("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[o("semantics",[o("mrow",[o("mo",[e._v("<")]),o("mn",[e._v("50")])],1),o("annotation",{attrs:{encoding:"application/x-tex"}},[e._v("<50")])],1)],1)],1),o("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[o("span",{staticClass:"base"},[o("span",{staticClass:"strut",staticStyle:{height:"0.5782em","vertical-align":"-0.0391em"}}),o("span",{staticClass:"mrel"},[e._v("<")]),o("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),o("span",{staticClass:"base"},[o("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),o("span",{staticClass:"mord"},[e._v("5")]),o("span",{staticClass:"mord"},[e._v("0")])])])])]),e._v(" chars")],1),e._v(" "),o("li",[o("code",[e._v("title")]),e._v(" field is better not changed; otherwise have to the old comments on the post is lost")]),e._v(" "),o("li",[e._v("better set "),o("code",[e._v("title")]),e._v(" and "),o("code",[e._v("labels")]),e._v(" distinct enough to not confuse "),o("em",[e._v("comment issues")]),e._v(" w/ "),o("em",[e._v("real issues")])]),e._v(" "),o("li",[e._v("YOU have to go to the post "),o("strong",[e._v("in prod")]),e._v(" to initiate comments just on that page")])]),e._v(" "),o("h4",{attrs:{id:"hide-secrets-or-not"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#hide-secrets-or-not"}},[e._v("#")]),e._v(" Hide Secrets, or Not")]),e._v(" "),o("p",[e._v("After I made Gitalk work on my site, I was worry about leaking my "),o("code",[e._v("client ID")]),e._v(" and "),o("code",[e._v("secret")]),e._v(" in hardcoded in "),o("a",{attrs:{href:"https://github.com/franklinqin0/blog/blob/master/docs/.vuepress/config.js",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("config.js")]),o("OutboundLink")],1),e._v(" to the public if I hard code them in "),o("a",{attrs:{href:"https://github.com/franklinqin0/blog/blob/master/docs/.vuepress/config.js",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("config.js")]),o("OutboundLink")],1),e._v(". So I found "),o("code",[e._v("dotenv")]),e._v(" introduced "),o("a",{attrs:{href:"https://gist.github.com/derzorngottes/3b57edc1f996dddcab25",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),o("OutboundLink")],1),e._v(" to hide env vars, but then Gitalk on my site doesn't work anymore because Github servers don't have my local env vars in "),o("code",[e._v(".env")]),e._v("!")]),e._v(" "),o("p",[e._v("Further, I found the following in "),o("a",{attrs:{href:"https://github.com/imsun/gitment#is-it-safe-to-make-my-client-secret-public",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gitment README"),o("OutboundLink")],1),e._v(":")]),e._v(" "),o("div",{staticClass:"custom-block theorem"},[o("p",{staticClass:"title"}),o("p",[e._v("Although GitHub does't recommend to hard code client secret in the frontend, you can still do that because GitHub will verify your callback URL. In theory, no one else can use your secret except your site.")])]),o("p",[e._v("Thus, at least in this case, hardcoding 2 env vars is alright, and I reverted back and uninstalled "),o("code",[e._v("dotenv")]),e._v(".")]),e._v(" "),o("h3",{attrs:{id:"other-options-for-comment-systems"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#other-options-for-comment-systems"}},[e._v("#")]),e._v(" Other Options for Comment Systems")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://imsun.github.io/gitment",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gitment"),o("OutboundLink")],1),e._v(" is quite similar to "),o("a",{attrs:{href:"https://gitalk.github.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gitalk"),o("OutboundLink")],1),e._v(" but supports "),o("em",[e._v("likes")]),e._v(".")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://vssue.js.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vssue"),o("OutboundLink")],1),e._v(" claims to work on more than GitHub but I haven't seen many usages.")])])}),[],!1,null,null,null);t.default=a.exports}}]);